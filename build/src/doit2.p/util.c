/* util.c generated by valac 0.50.2, the Vala compiler
 * generated from util.vala, do not modify */

#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include <gee.h>
#include <json-glib/json-glib.h>
#include <gtk/gtk.h>
#include <gio/gio.h>
#include <stdio.h>
#include <gobject/gvaluecollector.h>

#define DOIT2_TYPE_TO_DO (doit2_to_do_get_type ())
#define DOIT2_TO_DO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DOIT2_TYPE_TO_DO, Doit2ToDo))
#define DOIT2_TO_DO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DOIT2_TYPE_TO_DO, Doit2ToDoClass))
#define DOIT2_IS_TO_DO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DOIT2_TYPE_TO_DO))
#define DOIT2_IS_TO_DO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DOIT2_TYPE_TO_DO))
#define DOIT2_TO_DO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DOIT2_TYPE_TO_DO, Doit2ToDoClass))

typedef struct _Doit2ToDo Doit2ToDo;
typedef struct _Doit2ToDoClass Doit2ToDoClass;
typedef struct _Doit2ToDoPrivate Doit2ToDoPrivate;

#define DOIT2_TYPE_DAY (doit2_day_get_type ())
#define DOIT2_DAY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DOIT2_TYPE_DAY, Doit2Day))
#define DOIT2_DAY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DOIT2_TYPE_DAY, Doit2DayClass))
#define DOIT2_IS_DAY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DOIT2_TYPE_DAY))
#define DOIT2_IS_DAY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DOIT2_TYPE_DAY))
#define DOIT2_DAY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DOIT2_TYPE_DAY, Doit2DayClass))

typedef struct _Doit2Day Doit2Day;
typedef struct _Doit2DayClass Doit2DayClass;
enum  {
	DOIT2_TO_DO_0_PROPERTY,
	DOIT2_TO_DO_NUM_PROPERTIES
};
static GParamSpec* doit2_to_do_properties[DOIT2_TO_DO_NUM_PROPERTIES];
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
#define _json_array_unref0(var) ((var == NULL) ? NULL : (var = (json_array_unref (var), NULL)))

#define DOIT2_TYPE_TO_DO_LIST (doit2_to_do_list_get_type ())
#define DOIT2_TO_DO_LIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DOIT2_TYPE_TO_DO_LIST, Doit2ToDoList))
#define DOIT2_TO_DO_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DOIT2_TYPE_TO_DO_LIST, Doit2ToDoListClass))
#define DOIT2_IS_TO_DO_LIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DOIT2_TYPE_TO_DO_LIST))
#define DOIT2_IS_TO_DO_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DOIT2_TYPE_TO_DO_LIST))
#define DOIT2_TO_DO_LIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DOIT2_TYPE_TO_DO_LIST, Doit2ToDoListClass))

typedef struct _Doit2ToDoList Doit2ToDoList;
typedef struct _Doit2ToDoListClass Doit2ToDoListClass;
typedef struct _Doit2ToDoListPrivate Doit2ToDoListPrivate;
enum  {
	DOIT2_TO_DO_LIST_0_PROPERTY,
	DOIT2_TO_DO_LIST_NUM_PROPERTIES
};
static GParamSpec* doit2_to_do_list_properties[DOIT2_TO_DO_LIST_NUM_PROPERTIES];
#define __vala_JsonNode_free0(var) ((var == NULL) ? NULL : (var = (_vala_JsonNode_free (var), NULL)))
typedef struct _Doit2DayPrivate Doit2DayPrivate;
enum  {
	DOIT2_DAY_0_PROPERTY,
	DOIT2_DAY_NAME_PROPERTY,
	DOIT2_DAY_NUM_PROPERTIES
};
static GParamSpec* doit2_day_properties[DOIT2_DAY_NUM_PROPERTIES];
#define _g_time_zone_unref0(var) ((var == NULL) ? NULL : (var = (g_time_zone_unref (var), NULL)))

#define DOIT2_TYPE_TO_DO_LIST_ITEM (doit2_to_do_list_item_get_type ())
#define DOIT2_TO_DO_LIST_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DOIT2_TYPE_TO_DO_LIST_ITEM, Doit2ToDoListItem))
#define DOIT2_TO_DO_LIST_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DOIT2_TYPE_TO_DO_LIST_ITEM, Doit2ToDoListItemClass))
#define DOIT2_IS_TO_DO_LIST_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DOIT2_TYPE_TO_DO_LIST_ITEM))
#define DOIT2_IS_TO_DO_LIST_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DOIT2_TYPE_TO_DO_LIST_ITEM))
#define DOIT2_TO_DO_LIST_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DOIT2_TYPE_TO_DO_LIST_ITEM, Doit2ToDoListItemClass))

typedef struct _Doit2ToDoListItem Doit2ToDoListItem;
typedef struct _Doit2ToDoListItemClass Doit2ToDoListItemClass;
typedef struct _Doit2ToDoListItemPrivate Doit2ToDoListItemPrivate;
enum  {
	DOIT2_TO_DO_LIST_ITEM_0_PROPERTY,
	DOIT2_TO_DO_LIST_ITEM_NUM_PROPERTIES
};
static GParamSpec* doit2_to_do_list_item_properties[DOIT2_TO_DO_LIST_ITEM_NUM_PROPERTIES];

#define DOIT2_TYPE_UTIL (doit2_util_get_type ())
#define DOIT2_UTIL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DOIT2_TYPE_UTIL, Doit2Util))
#define DOIT2_UTIL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DOIT2_TYPE_UTIL, Doit2UtilClass))
#define DOIT2_IS_UTIL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DOIT2_TYPE_UTIL))
#define DOIT2_IS_UTIL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DOIT2_TYPE_UTIL))
#define DOIT2_UTIL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DOIT2_TYPE_UTIL, Doit2UtilClass))

typedef struct _Doit2Util Doit2Util;
typedef struct _Doit2UtilClass Doit2UtilClass;
typedef struct _Doit2UtilPrivate Doit2UtilPrivate;

#define DOIT2_TYPE_TO_DO_DISPLAY (doit2_to_do_display_get_type ())
#define DOIT2_TO_DO_DISPLAY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), DOIT2_TYPE_TO_DO_DISPLAY, Doit2ToDoDisplay))
#define DOIT2_TO_DO_DISPLAY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), DOIT2_TYPE_TO_DO_DISPLAY, Doit2ToDoDisplayClass))
#define DOIT2_IS_TO_DO_DISPLAY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), DOIT2_TYPE_TO_DO_DISPLAY))
#define DOIT2_IS_TO_DO_DISPLAY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), DOIT2_TYPE_TO_DO_DISPLAY))
#define DOIT2_TO_DO_DISPLAY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), DOIT2_TYPE_TO_DO_DISPLAY, Doit2ToDoDisplayClass))

typedef struct _Doit2ToDoDisplay Doit2ToDoDisplay;
typedef struct _Doit2ToDoDisplayClass Doit2ToDoDisplayClass;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _Doit2UtilSaveTodosData Doit2UtilSaveTodosData;
typedef struct _Doit2UtilLoadTodosData Doit2UtilLoadTodosData;
typedef struct _Doit2ParamSpecUtil Doit2ParamSpecUtil;

struct _Doit2ToDo {
	GObject parent_instance;
	Doit2ToDoPrivate * priv;
	gchar* name;
	gchar* description;
	gboolean done;
	GeeArrayList* days;
	GDateTime* done_on;
	JsonArray* days_json;
};

struct _Doit2ToDoClass {
	GObjectClass parent_class;
};

struct _Doit2ToDoList {
	GObject parent_instance;
	Doit2ToDoListPrivate * priv;
	GeeArrayList* todos_al;
	JsonArray* todos;
};

struct _Doit2ToDoListClass {
	GObjectClass parent_class;
};

struct _Doit2Day {
	GObject parent_instance;
	Doit2DayPrivate * priv;
	gint number;
};

struct _Doit2DayClass {
	GObjectClass parent_class;
};

struct _Doit2ToDoListItem {
	GtkListBoxRow parent_instance;
	Doit2ToDoListItemPrivate * priv;
};

struct _Doit2ToDoListItemClass {
	GtkListBoxRowClass parent_class;
};

struct _Doit2Util {
	GTypeInstance parent_instance;
	volatile int ref_count;
	Doit2UtilPrivate * priv;
};

struct _Doit2UtilClass {
	GTypeClass parent_class;
	void (*finalize) (Doit2Util *self);
};

struct _Doit2UtilSaveTodosData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GeeArrayList* _tmp0_;
	GeeArrayList* _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* todos_json;
	GeeArrayList* _tmp7_;
	Doit2ToDoList* _tmp8_;
	Doit2ToDoList* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	GFile* file;
	const gchar* _tmp12_;
	GFile* _tmp13_;
	GFile* _tmp14_;
	GFile* _tmp15_;
	GFileOutputStream* outstream;
	GFile* _tmp16_;
	GFileOutputStream* _tmp17_;
	GFileOutputStream* _tmp18_;
	const gchar* _tmp19_;
	guint8* _tmp20_;
	gint _tmp20__length1;
	gint _tmp21_;
	guint8* _tmp22_;
	gint _tmp22__length1;
	GError* e;
	FILE* _tmp23_;
	GError* _tmp24_;
	const gchar* _tmp25_;
	gchar* _tmp26_;
	gchar* _tmp27_;
	GError* _inner_error0_;
};

struct _Doit2UtilLoadTodosData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	guint8* contents;
	gint contents_length1;
	gint _contents_size_;
	GFile* file;
	const gchar* _tmp2_;
	GFile* _tmp3_;
	GFile* _tmp4_;
	guint8* _tmp5_;
	gsize _tmp6_;
	GObject* _tmp7_;
	guint8* _tmp8_;
	gint _tmp8__length1;
	GObject* _tmp9_;
	Doit2ToDoList* tdl;
	Doit2ToDoList* _tmp10_;
	Doit2ToDoList* _tmp11_;
	GeeArrayList* _tmp12_;
	GeeArrayList* _tmp13_;
	GError* e;
	FILE* _tmp14_;
	GError* _tmp15_;
	const gchar* _tmp16_;
	gchar* _tmp17_;
	gchar* _tmp18_;
	GeeArrayList* _tmp19_;
	GError* _inner_error0_;
};

struct _Doit2ParamSpecUtil {
	GParamSpec parent_instance;
};

static gpointer doit2_to_do_parent_class = NULL;
static gpointer doit2_to_do_list_parent_class = NULL;
static gpointer doit2_day_parent_class = NULL;
static GeeArrayList* doit2_day_DAYS_MAP;
static GeeArrayList* doit2_day_DAYS_MAP = NULL;
static gpointer doit2_to_do_list_item_parent_class = NULL;
static gpointer doit2_util_parent_class = NULL;
extern GeeArrayList* doit2_util_todos;
GeeArrayList* doit2_util_todos = NULL;
extern gchar* doit2_util_config_path;
gchar* doit2_util_config_path = NULL;

GType doit2_to_do_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (Doit2ToDo, g_object_unref)
GType doit2_day_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (Doit2Day, g_object_unref)
Doit2ToDo* doit2_to_do_new (void);
Doit2ToDo* doit2_to_do_construct (GType object_type);
static void doit2_to_do_finalize (GObject * obj);
static GType doit2_to_do_get_type_once (void);
GType doit2_to_do_list_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (Doit2ToDoList, g_object_unref)
Doit2ToDoList* doit2_to_do_list_new_from_array_list (GeeArrayList* al);
Doit2ToDoList* doit2_to_do_list_construct_from_array_list (GType object_type,
                                                           GeeArrayList* al);
static void _vala_JsonNode_free (JsonNode* self);
Doit2ToDoList* doit2_to_do_list_new (void);
Doit2ToDoList* doit2_to_do_list_construct (GType object_type);
static void doit2_to_do_list_finalize (GObject * obj);
static GType doit2_to_do_list_get_type_once (void);
Doit2Day* doit2_day_new (gint index);
Doit2Day* doit2_day_construct (GType object_type,
                               gint index);
Doit2Day* doit2_day_new_from_name (const gchar* dayName);
Doit2Day* doit2_day_construct_from_name (GType object_type,
                                         const gchar* dayName);
void doit2_day_set_name (Doit2Day* self,
                         const gchar* value);
Doit2Day* doit2_day_new_today (void);
Doit2Day* doit2_day_construct_today (GType object_type);
gchar* doit2_day_get_name (Doit2Day* self);
static void doit2_day_finalize (GObject * obj);
static GType doit2_day_get_type_once (void);
static void _vala_doit2_day_get_property (GObject * object,
                                   guint property_id,
                                   GValue * value,
                                   GParamSpec * pspec);
static void _vala_doit2_day_set_property (GObject * object,
                                   guint property_id,
                                   const GValue * value,
                                   GParamSpec * pspec);
GType doit2_to_do_list_item_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (Doit2ToDoListItem, g_object_unref)
Doit2ToDoListItem* doit2_to_do_list_item_new (Doit2ToDo* item);
Doit2ToDoListItem* doit2_to_do_list_item_construct (GType object_type,
                                                    Doit2ToDo* item);
static GType doit2_to_do_list_item_get_type_once (void);
gpointer doit2_util_ref (gpointer instance);
void doit2_util_unref (gpointer instance);
GParamSpec* doit2_param_spec_util (const gchar* name,
                                   const gchar* nick,
                                   const gchar* blurb,
                                   GType object_type,
                                   GParamFlags flags);
void doit2_value_set_util (GValue* value,
                           gpointer v_object);
void doit2_value_take_util (GValue* value,
                            gpointer v_object);
gpointer doit2_value_get_util (const GValue* value);
GType doit2_util_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (Doit2Util, doit2_util_unref)
void doit2_util_refresh_list (GtkStack* list,
                              GeeArrayList* todos);
Doit2ToDoDisplay* doit2_to_do_display_new (Doit2ToDo* item);
Doit2ToDoDisplay* doit2_to_do_display_construct (GType object_type,
                                                 Doit2ToDo* item);
GType doit2_to_do_display_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (Doit2ToDoDisplay, g_object_unref)
static void doit2_util_save_todos_data_free (gpointer _data);
void doit2_util_save_todos (GAsyncReadyCallback _callback_,
                            gpointer _user_data_);
void doit2_util_save_todos_finish (GAsyncResult* _res_);
static gboolean doit2_util_save_todos_co (Doit2UtilSaveTodosData* _data_);
static void doit2_util_save_todos_ready (GObject* source_object,
                                  GAsyncResult* _res_,
                                  gpointer _user_data_);
static void doit2_util_load_todos_data_free (gpointer _data);
void doit2_util_load_todos (GAsyncReadyCallback _callback_,
                            gpointer _user_data_);
void doit2_util_load_todos_finish (GAsyncResult* _res_);
static gboolean doit2_util_load_todos_co (Doit2UtilLoadTodosData* _data_);
static void doit2_util_load_todos_ready (GObject* source_object,
                                  GAsyncResult* _res_,
                                  gpointer _user_data_);
Doit2Util* doit2_util_new (void);
Doit2Util* doit2_util_construct (GType object_type);
static void doit2_util_finalize (Doit2Util * obj);
static GType doit2_util_get_type_once (void);

Doit2ToDo*
doit2_to_do_construct (GType object_type)
{
	Doit2ToDo * self = NULL;
#line 3 "../src/util.vala"
	self = (Doit2ToDo*) g_object_new (object_type, NULL);
#line 3 "../src/util.vala"
	return self;
#line 356 "util.c"
}

Doit2ToDo*
doit2_to_do_new (void)
{
#line 3 "../src/util.vala"
	return doit2_to_do_construct (DOIT2_TYPE_TO_DO);
#line 364 "util.c"
}

static void
doit2_to_do_class_init (Doit2ToDoClass * klass,
                        gpointer klass_data)
{
#line 3 "../src/util.vala"
	doit2_to_do_parent_class = g_type_class_peek_parent (klass);
#line 3 "../src/util.vala"
	G_OBJECT_CLASS (klass)->finalize = doit2_to_do_finalize;
#line 375 "util.c"
}

static void
doit2_to_do_instance_init (Doit2ToDo * self,
                           gpointer klass)
{
}

static void
doit2_to_do_finalize (GObject * obj)
{
	Doit2ToDo * self;
#line 3 "../src/util.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, DOIT2_TYPE_TO_DO, Doit2ToDo);
#line 4 "../src/util.vala"
	_g_free0 (self->name);
#line 5 "../src/util.vala"
	_g_free0 (self->description);
#line 7 "../src/util.vala"
	_g_object_unref0 (self->days);
#line 8 "../src/util.vala"
	_g_date_time_unref0 (self->done_on);
#line 9 "../src/util.vala"
	_json_array_unref0 (self->days_json);
#line 3 "../src/util.vala"
	G_OBJECT_CLASS (doit2_to_do_parent_class)->finalize (obj);
#line 402 "util.c"
}

static GType
doit2_to_do_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (Doit2ToDoClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) doit2_to_do_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Doit2ToDo), 0, (GInstanceInitFunc) doit2_to_do_instance_init, NULL };
	GType doit2_to_do_type_id;
	doit2_to_do_type_id = g_type_register_static (G_TYPE_OBJECT, "Doit2ToDo", &g_define_type_info, 0);
	return doit2_to_do_type_id;
}

GType
doit2_to_do_get_type (void)
{
	static volatile gsize doit2_to_do_type_id__volatile = 0;
	if (g_once_init_enter (&doit2_to_do_type_id__volatile)) {
		GType doit2_to_do_type_id;
		doit2_to_do_type_id = doit2_to_do_get_type_once ();
		g_once_init_leave (&doit2_to_do_type_id__volatile, doit2_to_do_type_id);
	}
	return doit2_to_do_type_id__volatile;
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 15 "../src/util.vala"
	return self ? g_object_ref (self) : NULL;
#line 431 "util.c"
}

static void
_vala_JsonNode_free (JsonNode* self)
{
#line 19 "../src/util.vala"
	g_boxed_free (json_node_get_type (), self);
#line 439 "util.c"
}

Doit2ToDoList*
doit2_to_do_list_construct_from_array_list (GType object_type,
                                            GeeArrayList* al)
{
	Doit2ToDoList * self = NULL;
	GeeArrayList* _tmp0_;
#line 14 "../src/util.vala"
	g_return_val_if_fail (al != NULL, NULL);
#line 14 "../src/util.vala"
	self = (Doit2ToDoList*) g_object_new (object_type, NULL);
#line 15 "../src/util.vala"
	_tmp0_ = _g_object_ref0 (al);
#line 15 "../src/util.vala"
	_g_object_unref0 (self->todos_al);
#line 15 "../src/util.vala"
	self->todos_al = _tmp0_;
#line 458 "util.c"
	{
		GeeArrayList* _todo_list = NULL;
		GeeArrayList* _tmp1_;
		gint _todo_size = 0;
		GeeArrayList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _todo_index = 0;
#line 16 "../src/util.vala"
		_tmp1_ = _g_object_ref0 (al);
#line 16 "../src/util.vala"
		_todo_list = _tmp1_;
#line 16 "../src/util.vala"
		_tmp2_ = _todo_list;
#line 16 "../src/util.vala"
		_tmp3_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp2_);
#line 16 "../src/util.vala"
		_tmp4_ = _tmp3_;
#line 16 "../src/util.vala"
		_todo_size = _tmp4_;
#line 16 "../src/util.vala"
		_todo_index = -1;
#line 16 "../src/util.vala"
		while (TRUE) {
#line 483 "util.c"
			gint _tmp5_;
			gint _tmp6_;
			Doit2ToDo* todo = NULL;
			GeeArrayList* _tmp7_;
			gpointer _tmp8_;
			Doit2ToDo* _tmp9_;
			JsonArray* _tmp10_;
			JsonArray* _tmp27_;
			Doit2ToDo* _tmp28_;
			JsonNode* _tmp29_;
			JsonNode* _tmp30_;
			JsonObject* _tmp31_;
#line 16 "../src/util.vala"
			_todo_index = _todo_index + 1;
#line 16 "../src/util.vala"
			_tmp5_ = _todo_index;
#line 16 "../src/util.vala"
			_tmp6_ = _todo_size;
#line 16 "../src/util.vala"
			if (!(_tmp5_ < _tmp6_)) {
#line 16 "../src/util.vala"
				break;
#line 506 "util.c"
			}
#line 16 "../src/util.vala"
			_tmp7_ = _todo_list;
#line 16 "../src/util.vala"
			_tmp8_ = gee_abstract_list_get ((GeeAbstractList*) _tmp7_, _todo_index);
#line 16 "../src/util.vala"
			todo = (Doit2ToDo*) _tmp8_;
#line 17 "../src/util.vala"
			_tmp9_ = todo;
#line 17 "../src/util.vala"
			_tmp10_ = json_array_new ();
#line 17 "../src/util.vala"
			_json_array_unref0 (_tmp9_->days_json);
#line 17 "../src/util.vala"
			_tmp9_->days_json = _tmp10_;
#line 522 "util.c"
			{
				GeeArrayList* _day_list = NULL;
				Doit2ToDo* _tmp11_;
				GeeArrayList* _tmp12_;
				GeeArrayList* _tmp13_;
				gint _day_size = 0;
				GeeArrayList* _tmp14_;
				gint _tmp15_;
				gint _tmp16_;
				gint _day_index = 0;
#line 18 "../src/util.vala"
				_tmp11_ = todo;
#line 18 "../src/util.vala"
				_tmp12_ = _tmp11_->days;
#line 18 "../src/util.vala"
				_tmp13_ = _g_object_ref0 (_tmp12_);
#line 18 "../src/util.vala"
				_day_list = _tmp13_;
#line 18 "../src/util.vala"
				_tmp14_ = _day_list;
#line 18 "../src/util.vala"
				_tmp15_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp14_);
#line 18 "../src/util.vala"
				_tmp16_ = _tmp15_;
#line 18 "../src/util.vala"
				_day_size = _tmp16_;
#line 18 "../src/util.vala"
				_day_index = -1;
#line 18 "../src/util.vala"
				while (TRUE) {
#line 553 "util.c"
					gint _tmp17_;
					gint _tmp18_;
					Doit2Day* day = NULL;
					GeeArrayList* _tmp19_;
					gpointer _tmp20_;
					Doit2ToDo* _tmp21_;
					JsonArray* _tmp22_;
					Doit2Day* _tmp23_;
					JsonNode* _tmp24_;
					JsonNode* _tmp25_;
					JsonObject* _tmp26_;
#line 18 "../src/util.vala"
					_day_index = _day_index + 1;
#line 18 "../src/util.vala"
					_tmp17_ = _day_index;
#line 18 "../src/util.vala"
					_tmp18_ = _day_size;
#line 18 "../src/util.vala"
					if (!(_tmp17_ < _tmp18_)) {
#line 18 "../src/util.vala"
						break;
#line 575 "util.c"
					}
#line 18 "../src/util.vala"
					_tmp19_ = _day_list;
#line 18 "../src/util.vala"
					_tmp20_ = gee_abstract_list_get ((GeeAbstractList*) _tmp19_, _day_index);
#line 18 "../src/util.vala"
					day = (Doit2Day*) _tmp20_;
#line 19 "../src/util.vala"
					_tmp21_ = todo;
#line 19 "../src/util.vala"
					_tmp22_ = _tmp21_->days_json;
#line 19 "../src/util.vala"
					_tmp23_ = day;
#line 19 "../src/util.vala"
					_tmp24_ = json_gobject_serialize ((GObject*) _tmp23_);
#line 19 "../src/util.vala"
					_tmp25_ = _tmp24_;
#line 19 "../src/util.vala"
					_tmp26_ = json_node_dup_object (_tmp25_);
#line 19 "../src/util.vala"
					json_array_add_object_element (_tmp22_, _tmp26_);
#line 19 "../src/util.vala"
					__vala_JsonNode_free0 (_tmp25_);
#line 18 "../src/util.vala"
					_g_object_unref0 (day);
#line 601 "util.c"
				}
#line 18 "../src/util.vala"
				_g_object_unref0 (_day_list);
#line 605 "util.c"
			}
#line 21 "../src/util.vala"
			_tmp27_ = self->todos;
#line 21 "../src/util.vala"
			_tmp28_ = todo;
#line 21 "../src/util.vala"
			_tmp29_ = json_gobject_serialize ((GObject*) _tmp28_);
#line 21 "../src/util.vala"
			_tmp30_ = _tmp29_;
#line 21 "../src/util.vala"
			_tmp31_ = json_node_dup_object (_tmp30_);
#line 21 "../src/util.vala"
			json_array_add_object_element (_tmp27_, _tmp31_);
#line 21 "../src/util.vala"
			__vala_JsonNode_free0 (_tmp30_);
#line 16 "../src/util.vala"
			_g_object_unref0 (todo);
#line 623 "util.c"
		}
#line 16 "../src/util.vala"
		_g_object_unref0 (_todo_list);
#line 627 "util.c"
	}
#line 14 "../src/util.vala"
	return self;
#line 631 "util.c"
}

Doit2ToDoList*
doit2_to_do_list_new_from_array_list (GeeArrayList* al)
{
#line 14 "../src/util.vala"
	return doit2_to_do_list_construct_from_array_list (DOIT2_TYPE_TO_DO_LIST, al);
#line 639 "util.c"
}

Doit2ToDoList*
doit2_to_do_list_construct (GType object_type)
{
	Doit2ToDoList * self = NULL;
#line 11 "../src/util.vala"
	self = (Doit2ToDoList*) g_object_new (object_type, NULL);
#line 11 "../src/util.vala"
	return self;
#line 650 "util.c"
}

Doit2ToDoList*
doit2_to_do_list_new (void)
{
#line 11 "../src/util.vala"
	return doit2_to_do_list_construct (DOIT2_TYPE_TO_DO_LIST);
#line 658 "util.c"
}

static void
doit2_to_do_list_class_init (Doit2ToDoListClass * klass,
                             gpointer klass_data)
{
#line 11 "../src/util.vala"
	doit2_to_do_list_parent_class = g_type_class_peek_parent (klass);
#line 11 "../src/util.vala"
	G_OBJECT_CLASS (klass)->finalize = doit2_to_do_list_finalize;
#line 669 "util.c"
}

static void
doit2_to_do_list_instance_init (Doit2ToDoList * self,
                                gpointer klass)
{
}

static void
doit2_to_do_list_finalize (GObject * obj)
{
	Doit2ToDoList * self;
#line 11 "../src/util.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, DOIT2_TYPE_TO_DO_LIST, Doit2ToDoList);
#line 12 "../src/util.vala"
	_g_object_unref0 (self->todos_al);
#line 13 "../src/util.vala"
	_json_array_unref0 (self->todos);
#line 11 "../src/util.vala"
	G_OBJECT_CLASS (doit2_to_do_list_parent_class)->finalize (obj);
#line 690 "util.c"
}

static GType
doit2_to_do_list_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (Doit2ToDoListClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) doit2_to_do_list_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Doit2ToDoList), 0, (GInstanceInitFunc) doit2_to_do_list_instance_init, NULL };
	GType doit2_to_do_list_type_id;
	doit2_to_do_list_type_id = g_type_register_static (G_TYPE_OBJECT, "Doit2ToDoList", &g_define_type_info, 0);
	return doit2_to_do_list_type_id;
}

GType
doit2_to_do_list_get_type (void)
{
	static volatile gsize doit2_to_do_list_type_id__volatile = 0;
	if (g_once_init_enter (&doit2_to_do_list_type_id__volatile)) {
		GType doit2_to_do_list_type_id;
		doit2_to_do_list_type_id = doit2_to_do_list_get_type_once ();
		g_once_init_leave (&doit2_to_do_list_type_id__volatile, doit2_to_do_list_type_id);
	}
	return doit2_to_do_list_type_id__volatile;
}

Doit2Day*
doit2_day_construct (GType object_type,
                     gint index)
{
	Doit2Day * self = NULL;
#line 45 "../src/util.vala"
	self = (Doit2Day*) g_object_new (object_type, NULL);
#line 46 "../src/util.vala"
	self->number = index;
#line 45 "../src/util.vala"
	return self;
#line 725 "util.c"
}

Doit2Day*
doit2_day_new (gint index)
{
#line 45 "../src/util.vala"
	return doit2_day_construct (DOIT2_TYPE_DAY, index);
#line 733 "util.c"
}

Doit2Day*
doit2_day_construct_from_name (GType object_type,
                               const gchar* dayName)
{
	Doit2Day * self = NULL;
#line 48 "../src/util.vala"
	g_return_val_if_fail (dayName != NULL, NULL);
#line 48 "../src/util.vala"
	self = (Doit2Day*) g_object_new (object_type, NULL);
#line 49 "../src/util.vala"
	doit2_day_set_name (self, dayName);
#line 48 "../src/util.vala"
	return self;
#line 749 "util.c"
}

Doit2Day*
doit2_day_new_from_name (const gchar* dayName)
{
#line 48 "../src/util.vala"
	return doit2_day_construct_from_name (DOIT2_TYPE_DAY, dayName);
#line 757 "util.c"
}

Doit2Day*
doit2_day_construct_today (GType object_type)
{
	Doit2Day * self = NULL;
	GTimeZone* _tmp0_;
	GTimeZone* _tmp1_;
	GDateTime* _tmp2_;
	GDateTime* _tmp3_;
#line 51 "../src/util.vala"
	self = (Doit2Day*) g_object_new (object_type, NULL);
#line 52 "../src/util.vala"
	_tmp0_ = g_time_zone_new_local ();
#line 52 "../src/util.vala"
	_tmp1_ = _tmp0_;
#line 52 "../src/util.vala"
	_tmp2_ = g_date_time_new_now (_tmp1_);
#line 52 "../src/util.vala"
	_tmp3_ = _tmp2_;
#line 52 "../src/util.vala"
	self->number = g_date_time_get_day_of_week (_tmp3_);
#line 52 "../src/util.vala"
	_g_date_time_unref0 (_tmp3_);
#line 52 "../src/util.vala"
	_g_time_zone_unref0 (_tmp1_);
#line 51 "../src/util.vala"
	return self;
#line 786 "util.c"
}

Doit2Day*
doit2_day_new_today (void)
{
#line 51 "../src/util.vala"
	return doit2_day_construct_today (DOIT2_TYPE_DAY);
#line 794 "util.c"
}

gchar*
doit2_day_get_name (Doit2Day* self)
{
	gchar* result;
	GeeArrayList* _tmp0_;
	gpointer _tmp1_;
#line 38 "../src/util.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 39 "../src/util.vala"
	_tmp0_ = doit2_day_DAYS_MAP;
#line 39 "../src/util.vala"
	_tmp1_ = gee_abstract_list_get ((GeeAbstractList*) _tmp0_, self->number);
#line 39 "../src/util.vala"
	result = (gchar*) _tmp1_;
#line 39 "../src/util.vala"
	return result;
#line 813 "util.c"
}

void
doit2_day_set_name (Doit2Day* self,
                    const gchar* value)
{
	GeeArrayList* _tmp0_;
#line 41 "../src/util.vala"
	g_return_if_fail (self != NULL);
#line 42 "../src/util.vala"
	_tmp0_ = doit2_day_DAYS_MAP;
#line 42 "../src/util.vala"
	self->number = gee_abstract_list_index_of ((GeeAbstractList*) _tmp0_, value);
#line 41 "../src/util.vala"
	g_object_notify_by_pspec ((GObject *) self, doit2_day_properties[DOIT2_DAY_NAME_PROPERTY]);
#line 829 "util.c"
}

static void
doit2_day_class_init (Doit2DayClass * klass,
                      gpointer klass_data)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar** _tmp8_;
	GeeArrayList* _tmp9_;
#line 25 "../src/util.vala"
	doit2_day_parent_class = g_type_class_peek_parent (klass);
#line 25 "../src/util.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_doit2_day_get_property;
#line 25 "../src/util.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_doit2_day_set_property;
#line 25 "../src/util.vala"
	G_OBJECT_CLASS (klass)->finalize = doit2_day_finalize;
#line 25 "../src/util.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), DOIT2_DAY_NAME_PROPERTY, doit2_day_properties[DOIT2_DAY_NAME_PROPERTY] = g_param_spec_string ("name", "name", "name", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 26 "../src/util.vala"
	_tmp0_ = g_strdup ("Error");
#line 26 "../src/util.vala"
	_tmp1_ = g_strdup ("Monday");
#line 26 "../src/util.vala"
	_tmp2_ = g_strdup ("Tuesday");
#line 26 "../src/util.vala"
	_tmp3_ = g_strdup ("Wednesday");
#line 26 "../src/util.vala"
	_tmp4_ = g_strdup ("Thursday");
#line 26 "../src/util.vala"
	_tmp5_ = g_strdup ("Friday");
#line 26 "../src/util.vala"
	_tmp6_ = g_strdup ("Saturday");
#line 26 "../src/util.vala"
	_tmp7_ = g_strdup ("Sunday");
#line 26 "../src/util.vala"
	_tmp8_ = g_new0 (gchar*, 8 + 1);
#line 26 "../src/util.vala"
	_tmp8_[0] = _tmp0_;
#line 26 "../src/util.vala"
	_tmp8_[1] = _tmp1_;
#line 26 "../src/util.vala"
	_tmp8_[2] = _tmp2_;
#line 26 "../src/util.vala"
	_tmp8_[3] = _tmp3_;
#line 26 "../src/util.vala"
	_tmp8_[4] = _tmp4_;
#line 26 "../src/util.vala"
	_tmp8_[5] = _tmp5_;
#line 26 "../src/util.vala"
	_tmp8_[6] = _tmp6_;
#line 26 "../src/util.vala"
	_tmp8_[7] = _tmp7_;
#line 26 "../src/util.vala"
	_tmp9_ = gee_array_list_new_wrap (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, _tmp8_, 8, NULL, NULL, NULL);
#line 26 "../src/util.vala"
	doit2_day_DAYS_MAP = _tmp9_;
#line 894 "util.c"
}

static void
doit2_day_instance_init (Doit2Day * self,
                         gpointer klass)
{
}

static void
doit2_day_finalize (GObject * obj)
{
	Doit2Day * self;
#line 25 "../src/util.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, DOIT2_TYPE_DAY, Doit2Day);
#line 25 "../src/util.vala"
	G_OBJECT_CLASS (doit2_day_parent_class)->finalize (obj);
#line 911 "util.c"
}

static GType
doit2_day_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (Doit2DayClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) doit2_day_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Doit2Day), 0, (GInstanceInitFunc) doit2_day_instance_init, NULL };
	GType doit2_day_type_id;
	doit2_day_type_id = g_type_register_static (G_TYPE_OBJECT, "Doit2Day", &g_define_type_info, 0);
	return doit2_day_type_id;
}

GType
doit2_day_get_type (void)
{
	static volatile gsize doit2_day_type_id__volatile = 0;
	if (g_once_init_enter (&doit2_day_type_id__volatile)) {
		GType doit2_day_type_id;
		doit2_day_type_id = doit2_day_get_type_once ();
		g_once_init_leave (&doit2_day_type_id__volatile, doit2_day_type_id);
	}
	return doit2_day_type_id__volatile;
}

static void
_vala_doit2_day_get_property (GObject * object,
                              guint property_id,
                              GValue * value,
                              GParamSpec * pspec)
{
	Doit2Day * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, DOIT2_TYPE_DAY, Doit2Day);
#line 25 "../src/util.vala"
	switch (property_id) {
#line 25 "../src/util.vala"
		case DOIT2_DAY_NAME_PROPERTY:
#line 25 "../src/util.vala"
		g_value_take_string (value, doit2_day_get_name (self));
#line 25 "../src/util.vala"
		break;
#line 951 "util.c"
		default:
#line 25 "../src/util.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 25 "../src/util.vala"
		break;
#line 957 "util.c"
	}
}

static void
_vala_doit2_day_set_property (GObject * object,
                              guint property_id,
                              const GValue * value,
                              GParamSpec * pspec)
{
	Doit2Day * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, DOIT2_TYPE_DAY, Doit2Day);
#line 25 "../src/util.vala"
	switch (property_id) {
#line 25 "../src/util.vala"
		case DOIT2_DAY_NAME_PROPERTY:
#line 25 "../src/util.vala"
		doit2_day_set_name (self, g_value_get_string (value));
#line 25 "../src/util.vala"
		break;
#line 977 "util.c"
		default:
#line 25 "../src/util.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 25 "../src/util.vala"
		break;
#line 983 "util.c"
	}
}

Doit2ToDoListItem*
doit2_to_do_list_item_construct (GType object_type,
                                 Doit2ToDo* item)
{
	Doit2ToDoListItem * self = NULL;
	GtkStyleContext* _tmp0_;
	GtkStyleContext* _tmp1_;
	const gchar* _tmp2_;
	GtkLabel* _tmp3_;
	GtkLabel* _tmp4_;
#line 56 "../src/util.vala"
	g_return_val_if_fail (item != NULL, NULL);
#line 56 "../src/util.vala"
	self = (Doit2ToDoListItem*) g_object_new (object_type, NULL);
#line 57 "../src/util.vala"
	gtk_list_box_row_set_activatable ((GtkListBoxRow*) self, TRUE);
#line 58 "../src/util.vala"
	_tmp0_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 58 "../src/util.vala"
	gtk_style_context_add_class (_tmp0_, "sidebar-row");
#line 59 "../src/util.vala"
	_tmp1_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 59 "../src/util.vala"
	gtk_style_context_add_class (_tmp1_, "activatable");
#line 60 "../src/util.vala"
	_tmp2_ = item->name;
#line 60 "../src/util.vala"
	_tmp3_ = (GtkLabel*) gtk_label_new (_tmp2_);
#line 60 "../src/util.vala"
	g_object_ref_sink (_tmp3_);
#line 60 "../src/util.vala"
	_tmp4_ = _tmp3_;
#line 60 "../src/util.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp4_);
#line 60 "../src/util.vala"
	_g_object_unref0 (_tmp4_);
#line 61 "../src/util.vala"
	gtk_widget_show_all ((GtkWidget*) self);
#line 56 "../src/util.vala"
	return self;
#line 1027 "util.c"
}

Doit2ToDoListItem*
doit2_to_do_list_item_new (Doit2ToDo* item)
{
#line 56 "../src/util.vala"
	return doit2_to_do_list_item_construct (DOIT2_TYPE_TO_DO_LIST_ITEM, item);
#line 1035 "util.c"
}

static void
doit2_to_do_list_item_class_init (Doit2ToDoListItemClass * klass,
                                  gpointer klass_data)
{
#line 55 "../src/util.vala"
	doit2_to_do_list_item_parent_class = g_type_class_peek_parent (klass);
#line 1044 "util.c"
}

static void
doit2_to_do_list_item_instance_init (Doit2ToDoListItem * self,
                                     gpointer klass)
{
}

static GType
doit2_to_do_list_item_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (Doit2ToDoListItemClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) doit2_to_do_list_item_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Doit2ToDoListItem), 0, (GInstanceInitFunc) doit2_to_do_list_item_instance_init, NULL };
	GType doit2_to_do_list_item_type_id;
	doit2_to_do_list_item_type_id = g_type_register_static (gtk_list_box_row_get_type (), "Doit2ToDoListItem", &g_define_type_info, 0);
	return doit2_to_do_list_item_type_id;
}

GType
doit2_to_do_list_item_get_type (void)
{
	static volatile gsize doit2_to_do_list_item_type_id__volatile = 0;
	if (g_once_init_enter (&doit2_to_do_list_item_type_id__volatile)) {
		GType doit2_to_do_list_item_type_id;
		doit2_to_do_list_item_type_id = doit2_to_do_list_item_get_type_once ();
		g_once_init_leave (&doit2_to_do_list_item_type_id__volatile, doit2_to_do_list_item_type_id);
	}
	return doit2_to_do_list_item_type_id__volatile;
}

void
doit2_util_refresh_list (GtkStack* list,
                         GeeArrayList* todos)
{
#line 65 "../src/util.vala"
	g_return_if_fail (list != NULL);
#line 65 "../src/util.vala"
	g_return_if_fail (todos != NULL);
#line 1082 "util.c"
	{
		GeeArrayList* _todo_list = NULL;
		GeeArrayList* _tmp0_;
		gint _todo_size = 0;
		GeeArrayList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gint _todo_index = 0;
#line 66 "../src/util.vala"
		_tmp0_ = _g_object_ref0 (todos);
#line 66 "../src/util.vala"
		_todo_list = _tmp0_;
#line 66 "../src/util.vala"
		_tmp1_ = _todo_list;
#line 66 "../src/util.vala"
		_tmp2_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp1_);
#line 66 "../src/util.vala"
		_tmp3_ = _tmp2_;
#line 66 "../src/util.vala"
		_todo_size = _tmp3_;
#line 66 "../src/util.vala"
		_todo_index = -1;
#line 66 "../src/util.vala"
		while (TRUE) {
#line 1107 "util.c"
			gint _tmp4_;
			gint _tmp5_;
			Doit2ToDo* todo = NULL;
			GeeArrayList* _tmp6_;
			gpointer _tmp7_;
			Doit2ToDo* _tmp8_;
			Doit2ToDoDisplay* _tmp9_;
			Doit2ToDoDisplay* _tmp10_;
			Doit2ToDo* _tmp11_;
			const gchar* _tmp12_;
			Doit2ToDo* _tmp13_;
			const gchar* _tmp14_;
#line 66 "../src/util.vala"
			_todo_index = _todo_index + 1;
#line 66 "../src/util.vala"
			_tmp4_ = _todo_index;
#line 66 "../src/util.vala"
			_tmp5_ = _todo_size;
#line 66 "../src/util.vala"
			if (!(_tmp4_ < _tmp5_)) {
#line 66 "../src/util.vala"
				break;
#line 1130 "util.c"
			}
#line 66 "../src/util.vala"
			_tmp6_ = _todo_list;
#line 66 "../src/util.vala"
			_tmp7_ = gee_abstract_list_get ((GeeAbstractList*) _tmp6_, _todo_index);
#line 66 "../src/util.vala"
			todo = (Doit2ToDo*) _tmp7_;
#line 67 "../src/util.vala"
			_tmp8_ = todo;
#line 67 "../src/util.vala"
			_tmp9_ = doit2_to_do_display_new (_tmp8_);
#line 67 "../src/util.vala"
			g_object_ref_sink (_tmp9_);
#line 67 "../src/util.vala"
			_tmp10_ = _tmp9_;
#line 67 "../src/util.vala"
			_tmp11_ = todo;
#line 67 "../src/util.vala"
			_tmp12_ = _tmp11_->name;
#line 67 "../src/util.vala"
			_tmp13_ = todo;
#line 67 "../src/util.vala"
			_tmp14_ = _tmp13_->name;
#line 67 "../src/util.vala"
			gtk_stack_add_titled (list, (GtkWidget*) _tmp10_, _tmp12_, _tmp14_);
#line 67 "../src/util.vala"
			_g_object_unref0 (_tmp10_);
#line 66 "../src/util.vala"
			_g_object_unref0 (todo);
#line 1160 "util.c"
		}
#line 66 "../src/util.vala"
		_g_object_unref0 (_todo_list);
#line 1164 "util.c"
	}
#line 69 "../src/util.vala"
	gtk_widget_show_all ((GtkWidget*) list);
#line 1168 "util.c"
}

static void
doit2_util_save_todos_data_free (gpointer _data)
{
	Doit2UtilSaveTodosData* _data_;
	_data_ = _data;
#line 64 "../src/util.vala"
	g_slice_free (Doit2UtilSaveTodosData, _data_);
#line 1178 "util.c"
}

void
doit2_util_save_todos (GAsyncReadyCallback _callback_,
                       gpointer _user_data_)
{
	Doit2UtilSaveTodosData* _data_;
#line 64 "../src/util.vala"
	_data_ = g_slice_new0 (Doit2UtilSaveTodosData);
#line 64 "../src/util.vala"
	_data_->_async_result = g_task_new (NULL, NULL, _callback_, _user_data_);
#line 64 "../src/util.vala"
	g_task_set_task_data (_data_->_async_result, _data_, doit2_util_save_todos_data_free);
#line 64 "../src/util.vala"
	doit2_util_save_todos_co (_data_);
#line 1194 "util.c"
}

void
doit2_util_save_todos_finish (GAsyncResult* _res_)
{
	Doit2UtilSaveTodosData* _data_;
#line 64 "../src/util.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 1203 "util.c"
}

static void
doit2_util_save_todos_ready (GObject* source_object,
                             GAsyncResult* _res_,
                             gpointer _user_data_)
{
	Doit2UtilSaveTodosData* _data_;
#line 86 "../src/util.vala"
	_data_ = _user_data_;
#line 86 "../src/util.vala"
	_data_->_source_object_ = source_object;
#line 86 "../src/util.vala"
	_data_->_res_ = _res_;
#line 86 "../src/util.vala"
	doit2_util_save_todos_co (_data_);
#line 1220 "util.c"
}

static guint8*
string_get_data (const gchar* self,
                 gint* result_length1)
{
	guint8* result;
	guint8* res = NULL;
	gint res_length1;
	gint _res_size_;
	gint _tmp0_;
	gint _tmp1_;
	guint8* _tmp2_;
	gint _tmp2__length1;
#line 1555 "glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1556 "glib-2.0.vapi"
	res = (guint8*) self;
#line 1556 "glib-2.0.vapi"
	res_length1 = -1;
#line 1556 "glib-2.0.vapi"
	_res_size_ = res_length1;
#line 1557 "glib-2.0.vapi"
	_tmp0_ = strlen (self);
#line 1557 "glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 1557 "glib-2.0.vapi"
	res_length1 = (gint) _tmp1_;
#line 1558 "glib-2.0.vapi"
	_tmp2_ = res;
#line 1558 "glib-2.0.vapi"
	_tmp2__length1 = res_length1;
#line 1558 "glib-2.0.vapi"
	if (result_length1) {
#line 1558 "glib-2.0.vapi"
		*result_length1 = _tmp2__length1;
#line 1257 "util.c"
	}
#line 1558 "glib-2.0.vapi"
	result = _tmp2_;
#line 1558 "glib-2.0.vapi"
	return result;
#line 1263 "util.c"
}

static gboolean
doit2_util_save_todos_co (Doit2UtilSaveTodosData* _data_)
{
#line 76 "../src/util.vala"
	switch (_data_->_state_) {
#line 76 "../src/util.vala"
		case 0:
#line 1273 "util.c"
		goto _state_0;
#line 76 "../src/util.vala"
		case 1:
#line 1277 "util.c"
		goto _state_1;
#line 76 "../src/util.vala"
		case 2:
#line 1281 "util.c"
		goto _state_2;
		default:
#line 76 "../src/util.vala"
		g_assert_not_reached ();
#line 1286 "util.c"
	}
	_state_0:
	{
#line 78 "../src/util.vala"
		_data_->_tmp0_ = doit2_util_todos;
#line 78 "../src/util.vala"
		if (_data_->_tmp0_ == NULL) {
#line 79 "../src/util.vala"
			_data_->_tmp1_ = gee_array_list_new (DOIT2_TYPE_TO_DO, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 79 "../src/util.vala"
			_g_object_unref0 (doit2_util_todos);
#line 79 "../src/util.vala"
			doit2_util_todos = _data_->_tmp1_;
#line 1300 "util.c"
		}
#line 81 "../src/util.vala"
		_data_->_tmp2_ = g_get_home_dir ();
#line 81 "../src/util.vala"
		_data_->_tmp3_ = g_build_filename (_data_->_tmp2_, ".doit2.json", NULL);
#line 81 "../src/util.vala"
		_g_free0 (doit2_util_config_path);
#line 81 "../src/util.vala"
		doit2_util_config_path = _data_->_tmp3_;
#line 82 "../src/util.vala"
		_data_->_tmp4_ = doit2_util_config_path;
#line 82 "../src/util.vala"
		_data_->_tmp5_ = g_strconcat ("Saving todos to ", _data_->_tmp4_, NULL);
#line 82 "../src/util.vala"
		_data_->_tmp6_ = _data_->_tmp5_;
#line 82 "../src/util.vala"
		g_log ("DoIt2", G_LOG_LEVEL_MESSAGE, "util.vala:82: %s", _data_->_tmp6_);
#line 82 "../src/util.vala"
		_g_free0 (_data_->_tmp6_);
#line 83 "../src/util.vala"
		_data_->_tmp7_ = doit2_util_todos;
#line 83 "../src/util.vala"
		_data_->_tmp8_ = doit2_to_do_list_new_from_array_list (_data_->_tmp7_);
#line 83 "../src/util.vala"
		_data_->_tmp9_ = _data_->_tmp8_;
#line 83 "../src/util.vala"
		_data_->_tmp10_ = json_gobject_to_data ((GObject*) _data_->_tmp9_, NULL);
#line 83 "../src/util.vala"
		_data_->_tmp11_ = _data_->_tmp10_;
#line 83 "../src/util.vala"
		_g_object_unref0 (_data_->_tmp9_);
#line 83 "../src/util.vala"
		_data_->todos_json = _data_->_tmp11_;
#line 84 "../src/util.vala"
		_data_->_tmp12_ = doit2_util_config_path;
#line 84 "../src/util.vala"
		_data_->_tmp13_ = g_file_new_for_path (_data_->_tmp12_);
#line 84 "../src/util.vala"
		_data_->file = _data_->_tmp13_;
#line 85 "../src/util.vala"
		_data_->_tmp14_ = _data_->file;
#line 85 "../src/util.vala"
		if (g_file_query_exists (_data_->_tmp14_, NULL)) {
#line 85 "../src/util.vala"
			_data_->_tmp15_ = _data_->file;
#line 85 "../src/util.vala"
			g_file_delete (_data_->_tmp15_, NULL, &_data_->_inner_error0_);
#line 85 "../src/util.vala"
			if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 85 "../src/util.vala"
				_g_object_unref0 (_data_->file);
#line 85 "../src/util.vala"
				_g_free0 (_data_->todos_json);
#line 1354 "util.c"
				goto __catch0_g_error;
			}
		}
#line 86 "../src/util.vala"
		_data_->_tmp16_ = _data_->file;
#line 86 "../src/util.vala"
		_data_->_state_ = 1;
#line 86 "../src/util.vala"
		g_file_create_async (_data_->_tmp16_, G_FILE_CREATE_REPLACE_DESTINATION, G_PRIORITY_DEFAULT, NULL, doit2_util_save_todos_ready, _data_);
#line 86 "../src/util.vala"
		return FALSE;
#line 1366 "util.c"
		_state_1:
#line 86 "../src/util.vala"
		_data_->_tmp17_ = g_file_create_finish (_data_->_tmp16_, _data_->_res_, &_data_->_inner_error0_);
#line 86 "../src/util.vala"
		_data_->outstream = _data_->_tmp17_;
#line 86 "../src/util.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 86 "../src/util.vala"
			_g_object_unref0 (_data_->file);
#line 86 "../src/util.vala"
			_g_free0 (_data_->todos_json);
#line 1378 "util.c"
			goto __catch0_g_error;
		}
#line 87 "../src/util.vala"
		_data_->_tmp18_ = _data_->outstream;
#line 87 "../src/util.vala"
		_data_->_tmp19_ = _data_->todos_json;
#line 87 "../src/util.vala"
		_data_->_tmp21_ = 0;
#line 87 "../src/util.vala"
		_data_->_tmp20_ = string_get_data (_data_->_tmp19_, &_data_->_tmp21_);
#line 87 "../src/util.vala"
		_data_->_tmp20__length1 = _data_->_tmp21_;
#line 87 "../src/util.vala"
		_data_->_tmp22_ = _data_->_tmp20_;
#line 87 "../src/util.vala"
		_data_->_tmp22__length1 = _data_->_tmp20__length1;
#line 87 "../src/util.vala"
		_data_->_state_ = 2;
#line 87 "../src/util.vala"
		g_output_stream_write_async ((GOutputStream*) _data_->_tmp18_, _data_->_tmp22_, (gsize) _data_->_tmp22__length1, G_PRIORITY_DEFAULT, NULL, doit2_util_save_todos_ready, _data_);
#line 87 "../src/util.vala"
		return FALSE;
#line 1401 "util.c"
		_state_2:
#line 87 "../src/util.vala"
		g_output_stream_write_finish ((GOutputStream*) _data_->_tmp18_, _data_->_res_, &_data_->_inner_error0_);
#line 87 "../src/util.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 87 "../src/util.vala"
			_g_object_unref0 (_data_->outstream);
#line 87 "../src/util.vala"
			_g_object_unref0 (_data_->file);
#line 87 "../src/util.vala"
			_g_free0 (_data_->todos_json);
#line 1413 "util.c"
			goto __catch0_g_error;
		}
#line 77 "../src/util.vala"
		_g_object_unref0 (_data_->outstream);
#line 77 "../src/util.vala"
		_g_object_unref0 (_data_->file);
#line 77 "../src/util.vala"
		_g_free0 (_data_->todos_json);
#line 1422 "util.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
#line 77 "../src/util.vala"
		_data_->e = _data_->_inner_error0_;
#line 77 "../src/util.vala"
		_data_->_inner_error0_ = NULL;
#line 89 "../src/util.vala"
		g_log ("DoIt2", G_LOG_LEVEL_CRITICAL, "util.vala:89: Cannot save todos");
#line 90 "../src/util.vala"
		_data_->_tmp23_ = stdout;
#line 90 "../src/util.vala"
		_data_->_tmp24_ = _data_->e;
#line 90 "../src/util.vala"
		_data_->_tmp25_ = _data_->_tmp24_->message;
#line 90 "../src/util.vala"
		_data_->_tmp26_ = g_strconcat (_data_->_tmp25_, "\n", NULL);
#line 90 "../src/util.vala"
		_data_->_tmp27_ = _data_->_tmp26_;
#line 90 "../src/util.vala"
		fputs (_data_->_tmp27_, _data_->_tmp23_);
#line 90 "../src/util.vala"
		_g_free0 (_data_->_tmp27_);
#line 77 "../src/util.vala"
		_g_error_free0 (_data_->e);
#line 1449 "util.c"
	}
	__finally0:
#line 77 "../src/util.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 77 "../src/util.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 77 "../src/util.vala"
		g_clear_error (&_data_->_inner_error0_);
#line 77 "../src/util.vala"
		g_object_unref (_data_->_async_result);
#line 77 "../src/util.vala"
		return FALSE;
#line 1462 "util.c"
	}
#line 76 "../src/util.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 76 "../src/util.vala"
	if (_data_->_state_ != 0) {
#line 76 "../src/util.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 76 "../src/util.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1472 "util.c"
		}
	}
#line 76 "../src/util.vala"
	g_object_unref (_data_->_async_result);
#line 76 "../src/util.vala"
	return FALSE;
#line 1479 "util.c"
}

static void
doit2_util_load_todos_data_free (gpointer _data)
{
	Doit2UtilLoadTodosData* _data_;
	_data_ = _data;
#line 64 "../src/util.vala"
	g_slice_free (Doit2UtilLoadTodosData, _data_);
#line 1489 "util.c"
}

void
doit2_util_load_todos (GAsyncReadyCallback _callback_,
                       gpointer _user_data_)
{
	Doit2UtilLoadTodosData* _data_;
#line 64 "../src/util.vala"
	_data_ = g_slice_new0 (Doit2UtilLoadTodosData);
#line 64 "../src/util.vala"
	_data_->_async_result = g_task_new (NULL, NULL, _callback_, _user_data_);
#line 64 "../src/util.vala"
	g_task_set_task_data (_data_->_async_result, _data_, doit2_util_load_todos_data_free);
#line 64 "../src/util.vala"
	doit2_util_load_todos_co (_data_);
#line 1505 "util.c"
}

void
doit2_util_load_todos_finish (GAsyncResult* _res_)
{
	Doit2UtilLoadTodosData* _data_;
#line 64 "../src/util.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 1514 "util.c"
}

static void
doit2_util_load_todos_ready (GObject* source_object,
                             GAsyncResult* _res_,
                             gpointer _user_data_)
{
	Doit2UtilLoadTodosData* _data_;
#line 99 "../src/util.vala"
	_data_ = _user_data_;
#line 99 "../src/util.vala"
	_data_->_source_object_ = source_object;
#line 99 "../src/util.vala"
	_data_->_res_ = _res_;
#line 99 "../src/util.vala"
	doit2_util_load_todos_co (_data_);
#line 1531 "util.c"
}

static gboolean
doit2_util_load_todos_co (Doit2UtilLoadTodosData* _data_)
{
#line 93 "../src/util.vala"
	switch (_data_->_state_) {
#line 93 "../src/util.vala"
		case 0:
#line 1541 "util.c"
		goto _state_0;
#line 93 "../src/util.vala"
		case 1:
#line 1545 "util.c"
		goto _state_1;
		default:
#line 93 "../src/util.vala"
		g_assert_not_reached ();
#line 1550 "util.c"
	}
	_state_0:
#line 94 "../src/util.vala"
	_data_->_tmp0_ = g_get_home_dir ();
#line 94 "../src/util.vala"
	_data_->_tmp1_ = g_build_filename (_data_->_tmp0_, ".doit2.json", NULL);
#line 94 "../src/util.vala"
	_g_free0 (doit2_util_config_path);
#line 94 "../src/util.vala"
	doit2_util_config_path = _data_->_tmp1_;
#line 95 "../src/util.vala"
	g_log ("DoIt2", G_LOG_LEVEL_MESSAGE, "util.vala:95: Loading todos");
#line 1563 "util.c"
	{
#line 97 "../src/util.vala"
		_data_->contents_length1 = 0;
#line 97 "../src/util.vala"
		_data_->_contents_size_ = 0;
#line 98 "../src/util.vala"
		_data_->_tmp2_ = doit2_util_config_path;
#line 98 "../src/util.vala"
		_data_->_tmp3_ = g_file_new_for_path (_data_->_tmp2_);
#line 98 "../src/util.vala"
		_data_->file = _data_->_tmp3_;
#line 99 "../src/util.vala"
		_data_->_tmp4_ = _data_->file;
#line 99 "../src/util.vala"
		_data_->_tmp5_ = NULL;
#line 99 "../src/util.vala"
		_data_->_tmp6_ = 0;
#line 99 "../src/util.vala"
		_data_->_state_ = 1;
#line 99 "../src/util.vala"
		g_file_load_contents_async (_data_->_tmp4_, NULL, doit2_util_load_todos_ready, _data_);
#line 99 "../src/util.vala"
		return FALSE;
#line 1587 "util.c"
		_state_1:
#line 99 "../src/util.vala"
		g_file_load_contents_finish (_data_->_tmp4_, _data_->_res_, &_data_->_tmp5_, &_data_->_tmp6_, NULL, &_data_->_inner_error0_);
#line 99 "../src/util.vala"
		_data_->contents = (g_free (_data_->contents), NULL);
#line 99 "../src/util.vala"
		_data_->contents = _data_->_tmp5_;
#line 99 "../src/util.vala"
		_data_->contents_length1 = _data_->_tmp6_;
#line 99 "../src/util.vala"
		_data_->_contents_size_ = _data_->contents_length1;
#line 99 "../src/util.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 99 "../src/util.vala"
			_g_object_unref0 (_data_->file);
#line 99 "../src/util.vala"
			_data_->contents = (g_free (_data_->contents), NULL);
#line 1605 "util.c"
			goto __catch0_g_error;
		}
#line 100 "../src/util.vala"
		_data_->_tmp8_ = _data_->contents;
#line 100 "../src/util.vala"
		_data_->_tmp8__length1 = _data_->contents_length1;
#line 100 "../src/util.vala"
		_data_->_tmp9_ = json_gobject_from_data (DOIT2_TYPE_TO_DO_LIST, (const gchar*) _data_->_tmp8_, (gssize) -1, &_data_->_inner_error0_);
#line 100 "../src/util.vala"
		_data_->_tmp7_ = _data_->_tmp9_;
#line 100 "../src/util.vala"
		if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 100 "../src/util.vala"
			_g_object_unref0 (_data_->file);
#line 100 "../src/util.vala"
			_data_->contents = (g_free (_data_->contents), NULL);
#line 1622 "util.c"
			goto __catch0_g_error;
		}
#line 100 "../src/util.vala"
		_data_->_tmp10_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp7_, DOIT2_TYPE_TO_DO_LIST, Doit2ToDoList));
#line 100 "../src/util.vala"
		_data_->tdl = _data_->_tmp10_;
#line 101 "../src/util.vala"
		_data_->_tmp11_ = _data_->tdl;
#line 101 "../src/util.vala"
		_data_->_tmp12_ = _data_->_tmp11_->todos_al;
#line 101 "../src/util.vala"
		_data_->_tmp13_ = _g_object_ref0 (_data_->_tmp12_);
#line 101 "../src/util.vala"
		_g_object_unref0 (doit2_util_todos);
#line 101 "../src/util.vala"
		doit2_util_todos = _data_->_tmp13_;
#line 96 "../src/util.vala"
		_g_object_unref0 (_data_->tdl);
#line 96 "../src/util.vala"
		_g_object_unref0 (_data_->_tmp7_);
#line 96 "../src/util.vala"
		_g_object_unref0 (_data_->file);
#line 96 "../src/util.vala"
		_data_->contents = (g_free (_data_->contents), NULL);
#line 1647 "util.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
#line 96 "../src/util.vala"
		_data_->e = _data_->_inner_error0_;
#line 96 "../src/util.vala"
		_data_->_inner_error0_ = NULL;
#line 103 "../src/util.vala"
		g_log ("DoIt2", G_LOG_LEVEL_CRITICAL, "util.vala:103: Todo file does not exist or cannot be opened");
#line 104 "../src/util.vala"
		_data_->_tmp14_ = stdout;
#line 104 "../src/util.vala"
		_data_->_tmp15_ = _data_->e;
#line 104 "../src/util.vala"
		_data_->_tmp16_ = _data_->_tmp15_->message;
#line 104 "../src/util.vala"
		_data_->_tmp17_ = g_strconcat (_data_->_tmp16_, "\n", NULL);
#line 104 "../src/util.vala"
		_data_->_tmp18_ = _data_->_tmp17_;
#line 104 "../src/util.vala"
		fputs (_data_->_tmp18_, _data_->_tmp14_);
#line 104 "../src/util.vala"
		_g_free0 (_data_->_tmp18_);
#line 105 "../src/util.vala"
		_data_->_tmp19_ = gee_array_list_new (DOIT2_TYPE_TO_DO, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 105 "../src/util.vala"
		_g_object_unref0 (doit2_util_todos);
#line 105 "../src/util.vala"
		doit2_util_todos = _data_->_tmp19_;
#line 96 "../src/util.vala"
		_g_error_free0 (_data_->e);
#line 1680 "util.c"
	}
	__finally0:
#line 96 "../src/util.vala"
	if (G_UNLIKELY (_data_->_inner_error0_ != NULL)) {
#line 96 "../src/util.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error0_->message, g_quark_to_string (_data_->_inner_error0_->domain), _data_->_inner_error0_->code);
#line 96 "../src/util.vala"
		g_clear_error (&_data_->_inner_error0_);
#line 96 "../src/util.vala"
		g_object_unref (_data_->_async_result);
#line 96 "../src/util.vala"
		return FALSE;
#line 1693 "util.c"
	}
#line 93 "../src/util.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 93 "../src/util.vala"
	if (_data_->_state_ != 0) {
#line 93 "../src/util.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 93 "../src/util.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1703 "util.c"
		}
	}
#line 93 "../src/util.vala"
	g_object_unref (_data_->_async_result);
#line 93 "../src/util.vala"
	return FALSE;
#line 1710 "util.c"
}

Doit2Util*
doit2_util_construct (GType object_type)
{
	Doit2Util* self = NULL;
#line 64 "../src/util.vala"
	self = (Doit2Util*) g_type_create_instance (object_type);
#line 64 "../src/util.vala"
	return self;
#line 1721 "util.c"
}

Doit2Util*
doit2_util_new (void)
{
#line 64 "../src/util.vala"
	return doit2_util_construct (DOIT2_TYPE_UTIL);
#line 1729 "util.c"
}

static void
doit2_value_util_init (GValue* value)
{
#line 64 "../src/util.vala"
	value->data[0].v_pointer = NULL;
#line 1737 "util.c"
}

static void
doit2_value_util_free_value (GValue* value)
{
#line 64 "../src/util.vala"
	if (value->data[0].v_pointer) {
#line 64 "../src/util.vala"
		doit2_util_unref (value->data[0].v_pointer);
#line 1747 "util.c"
	}
}

static void
doit2_value_util_copy_value (const GValue* src_value,
                             GValue* dest_value)
{
#line 64 "../src/util.vala"
	if (src_value->data[0].v_pointer) {
#line 64 "../src/util.vala"
		dest_value->data[0].v_pointer = doit2_util_ref (src_value->data[0].v_pointer);
#line 1759 "util.c"
	} else {
#line 64 "../src/util.vala"
		dest_value->data[0].v_pointer = NULL;
#line 1763 "util.c"
	}
}

static gpointer
doit2_value_util_peek_pointer (const GValue* value)
{
#line 64 "../src/util.vala"
	return value->data[0].v_pointer;
#line 1772 "util.c"
}

static gchar*
doit2_value_util_collect_value (GValue* value,
                                guint n_collect_values,
                                GTypeCValue* collect_values,
                                guint collect_flags)
{
#line 64 "../src/util.vala"
	if (collect_values[0].v_pointer) {
#line 1783 "util.c"
		Doit2Util * object;
		object = collect_values[0].v_pointer;
#line 64 "../src/util.vala"
		if (object->parent_instance.g_class == NULL) {
#line 64 "../src/util.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 1790 "util.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 64 "../src/util.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 1794 "util.c"
		}
#line 64 "../src/util.vala"
		value->data[0].v_pointer = doit2_util_ref (object);
#line 1798 "util.c"
	} else {
#line 64 "../src/util.vala"
		value->data[0].v_pointer = NULL;
#line 1802 "util.c"
	}
#line 64 "../src/util.vala"
	return NULL;
#line 1806 "util.c"
}

static gchar*
doit2_value_util_lcopy_value (const GValue* value,
                              guint n_collect_values,
                              GTypeCValue* collect_values,
                              guint collect_flags)
{
	Doit2Util ** object_p;
	object_p = collect_values[0].v_pointer;
#line 64 "../src/util.vala"
	if (!object_p) {
#line 64 "../src/util.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 1821 "util.c"
	}
#line 64 "../src/util.vala"
	if (!value->data[0].v_pointer) {
#line 64 "../src/util.vala"
		*object_p = NULL;
#line 1827 "util.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 64 "../src/util.vala"
		*object_p = value->data[0].v_pointer;
#line 1831 "util.c"
	} else {
#line 64 "../src/util.vala"
		*object_p = doit2_util_ref (value->data[0].v_pointer);
#line 1835 "util.c"
	}
#line 64 "../src/util.vala"
	return NULL;
#line 1839 "util.c"
}

GParamSpec*
doit2_param_spec_util (const gchar* name,
                       const gchar* nick,
                       const gchar* blurb,
                       GType object_type,
                       GParamFlags flags)
{
	Doit2ParamSpecUtil* spec;
#line 64 "../src/util.vala"
	g_return_val_if_fail (g_type_is_a (object_type, DOIT2_TYPE_UTIL), NULL);
#line 64 "../src/util.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 64 "../src/util.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 64 "../src/util.vala"
	return G_PARAM_SPEC (spec);
#line 1858 "util.c"
}

gpointer
doit2_value_get_util (const GValue* value)
{
#line 64 "../src/util.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, DOIT2_TYPE_UTIL), NULL);
#line 64 "../src/util.vala"
	return value->data[0].v_pointer;
#line 1868 "util.c"
}

void
doit2_value_set_util (GValue* value,
                      gpointer v_object)
{
	Doit2Util * old;
#line 64 "../src/util.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, DOIT2_TYPE_UTIL));
#line 64 "../src/util.vala"
	old = value->data[0].v_pointer;
#line 64 "../src/util.vala"
	if (v_object) {
#line 64 "../src/util.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, DOIT2_TYPE_UTIL));
#line 64 "../src/util.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 64 "../src/util.vala"
		value->data[0].v_pointer = v_object;
#line 64 "../src/util.vala"
		doit2_util_ref (value->data[0].v_pointer);
#line 1890 "util.c"
	} else {
#line 64 "../src/util.vala"
		value->data[0].v_pointer = NULL;
#line 1894 "util.c"
	}
#line 64 "../src/util.vala"
	if (old) {
#line 64 "../src/util.vala"
		doit2_util_unref (old);
#line 1900 "util.c"
	}
}

void
doit2_value_take_util (GValue* value,
                       gpointer v_object)
{
	Doit2Util * old;
#line 64 "../src/util.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, DOIT2_TYPE_UTIL));
#line 64 "../src/util.vala"
	old = value->data[0].v_pointer;
#line 64 "../src/util.vala"
	if (v_object) {
#line 64 "../src/util.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, DOIT2_TYPE_UTIL));
#line 64 "../src/util.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 64 "../src/util.vala"
		value->data[0].v_pointer = v_object;
#line 1921 "util.c"
	} else {
#line 64 "../src/util.vala"
		value->data[0].v_pointer = NULL;
#line 1925 "util.c"
	}
#line 64 "../src/util.vala"
	if (old) {
#line 64 "../src/util.vala"
		doit2_util_unref (old);
#line 1931 "util.c"
	}
}

static void
doit2_util_class_init (Doit2UtilClass * klass,
                       gpointer klass_data)
{
	GeeArrayList* _tmp0_;
#line 64 "../src/util.vala"
	doit2_util_parent_class = g_type_class_peek_parent (klass);
#line 64 "../src/util.vala"
	((Doit2UtilClass *) klass)->finalize = doit2_util_finalize;
#line 73 "../src/util.vala"
	_tmp0_ = gee_array_list_new (DOIT2_TYPE_TO_DO, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 73 "../src/util.vala"
	_g_object_unref0 (doit2_util_todos);
#line 73 "../src/util.vala"
	doit2_util_todos = _tmp0_;
#line 1950 "util.c"
}

static void
doit2_util_instance_init (Doit2Util * self,
                          gpointer klass)
{
#line 64 "../src/util.vala"
	self->ref_count = 1;
#line 1959 "util.c"
}

static void
doit2_util_finalize (Doit2Util * obj)
{
	Doit2Util * self;
#line 64 "../src/util.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, DOIT2_TYPE_UTIL, Doit2Util);
#line 64 "../src/util.vala"
	g_signal_handlers_destroy (self);
#line 1970 "util.c"
}

static GType
doit2_util_get_type_once (void)
{
	static const GTypeValueTable g_define_type_value_table = { doit2_value_util_init, doit2_value_util_free_value, doit2_value_util_copy_value, doit2_value_util_peek_pointer, "p", doit2_value_util_collect_value, "p", doit2_value_util_lcopy_value };
	static const GTypeInfo g_define_type_info = { sizeof (Doit2UtilClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) doit2_util_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Doit2Util), 0, (GInstanceInitFunc) doit2_util_instance_init, &g_define_type_value_table };
	static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
	GType doit2_util_type_id;
	doit2_util_type_id = g_type_register_fundamental (g_type_fundamental_next (), "Doit2Util", &g_define_type_info, &g_define_type_fundamental_info, 0);
	return doit2_util_type_id;
}

GType
doit2_util_get_type (void)
{
	static volatile gsize doit2_util_type_id__volatile = 0;
	if (g_once_init_enter (&doit2_util_type_id__volatile)) {
		GType doit2_util_type_id;
		doit2_util_type_id = doit2_util_get_type_once ();
		g_once_init_leave (&doit2_util_type_id__volatile, doit2_util_type_id);
	}
	return doit2_util_type_id__volatile;
}

gpointer
doit2_util_ref (gpointer instance)
{
	Doit2Util * self;
	self = instance;
#line 64 "../src/util.vala"
	g_atomic_int_inc (&self->ref_count);
#line 64 "../src/util.vala"
	return instance;
#line 2005 "util.c"
}

void
doit2_util_unref (gpointer instance)
{
	Doit2Util * self;
	self = instance;
#line 64 "../src/util.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 64 "../src/util.vala"
		DOIT2_UTIL_GET_CLASS (self)->finalize (self);
#line 64 "../src/util.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 2019 "util.c"
	}
}

